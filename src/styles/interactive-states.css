/* ===== CONSISTENT INTERACTIVE STATES SYSTEM ===== */
/* Apple HIG compliant interactive states for all components */

/* ===== BASE INTERACTIVE ELEMENT ===== */

.interactive {
  position: relative;
  cursor: pointer;
  transition: var(--transition-hover);
  outline: none;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
}

.interactive:disabled,
.interactive.disabled {
  opacity: var(--disabled-opacity);
  cursor: var(--disabled-cursor);
  pointer-events: none;
  transform: none !important;
  transition: var(--transition-disabled);
}

/* ===== BUTTON INTERACTIVE STATES ===== */

.btn,
.button,
button:not(.unstyled) {
  @extend .interactive;
}

/* Primary Button States */
.btn-primary {
  transition: var(--transition-hover);
}

.btn-primary:hover:not(:disabled):not(.disabled) {
  transform: var(--hover-lift-subtle);
  box-shadow: var(--shadow-hover-moderate);
  filter: brightness(1.1);
}

.btn-primary:active:not(:disabled):not(.disabled) {
  transform: var(--active-press-subtle);
  box-shadow: var(--shadow-active);
  transition: var(--transition-active);
}

.btn-primary:focus-visible:not(:disabled):not(.disabled) {
  box-shadow: var(--shadow-focus), var(--shadow-hover-moderate);
  outline: var(--focus-ring-width) solid var(--focus-ring-color);
  outline-offset: var(--focus-ring-offset);
}

/* Secondary Button States */
.btn-secondary {
  transition: var(--transition-hover);
}

.btn-secondary:hover:not(:disabled):not(.disabled) {
  transform: var(--hover-lift-subtle);
  background: var(--bg-hover-moderate);
  border-color: var(--border-hover);
}

.btn-secondary:active:not(:disabled):not(.disabled) {
  transform: var(--active-press-subtle);
  background: var(--bg-active);
  transition: var(--transition-active);
}

.btn-secondary:focus-visible:not(:disabled):not(.disabled) {
  outline: var(--focus-ring-width) solid var(--focus-ring-color);
  outline-offset: var(--focus-ring-offset);
  border-color: var(--border-focus);
}

/* ===== LINK INTERACTIVE STATES ===== */

.link,
a:not(.unstyled) {
  transition: var(--transition-hover);
  text-decoration: none;
  position: relative;
}

.link:hover:not(.disabled),
a:hover:not(.unstyled):not(.disabled) {
  color: var(--text-hover);
  transform: var(--hover-lift-subtle);
}

.link:active:not(.disabled),
a:active:not(.unstyled):not(.disabled) {
  color: var(--text-active);
  transform: var(--active-press-subtle);
  transition: var(--transition-active);
}

.link:focus-visible:not(.disabled),
a:focus-visible:not(.unstyled):not(.disabled) {
  outline: var(--focus-ring-width) solid var(--focus-ring-color);
  outline-offset: var(--focus-ring-offset);
  color: var(--text-focus);
}

/* ===== FORM INPUT INTERACTIVE STATES ===== */

.form-input,
.form-textarea,
.form-select,
input:not(.unstyled),
textarea:not(.unstyled),
select:not(.unstyled) {
  transition: var(--transition-hover);
  border: var(--input-border-width) solid var(--color-border);
}

.form-input:hover:not(:disabled):not(.disabled),
.form-textarea:hover:not(:disabled):not(.disabled),
.form-select:hover:not(:disabled):not(.disabled),
input:hover:not(.unstyled):not(:disabled):not(.disabled),
textarea:hover:not(.unstyled):not(:disabled):not(.disabled),
select:hover:not(.unstyled):not(:disabled):not(.disabled) {
  border-color: var(--border-hover);
  background: var(--bg-hover-subtle);
}

.form-input:focus:not(:disabled):not(.disabled),
.form-textarea:focus:not(:disabled):not(.disabled),
.form-select:focus:not(:disabled):not(.disabled),
input:focus:not(.unstyled):not(:disabled):not(.disabled),
textarea:focus:not(.unstyled):not(:disabled):not(.disabled),
select:focus:not(.unstyled):not(:disabled):not(.disabled) {
  outline: none;
  border-color: var(--border-focus);
  box-shadow: 0 0 0 var(--focus-ring-width) rgba(var(--color-primary-rgb), 0.2);
}

.form-input:disabled,
.form-textarea:disabled,
.form-select:disabled,
input:disabled:not(.unstyled),
textarea:disabled:not(.unstyled),
select:disabled:not(.unstyled) {
  opacity: var(--disabled-opacity);
  cursor: var(--disabled-cursor);
  background: var(--bg-disabled);
  border-color: var(--border-disabled);
  color: var(--text-disabled);
}

/* ===== CARD INTERACTIVE STATES ===== */

.card-interactive,
.project-card,
.skill-card,
.interactive-card {
  transition: var(--transition-hover);
  cursor: pointer;
}

.card-interactive:hover:not(.disabled),
.project-card:hover:not(.disabled),
.skill-card:hover:not(.disabled),
.interactive-card:hover:not(.disabled) {
  transform: var(--hover-lift-moderate);
  box-shadow: var(--shadow-hover-strong);
}

.card-interactive:active:not(.disabled),
.project-card:active:not(.disabled),
.skill-card:active:not(.disabled),
.interactive-card:active:not(.disabled) {
  transform: var(--active-press-subtle);
  box-shadow: var(--shadow-active);
  transition: var(--transition-active);
}

.card-interactive:focus-visible:not(.disabled),
.project-card:focus-visible:not(.disabled),
.skill-card:focus-visible:not(.disabled),
.interactive-card:focus-visible:not(.disabled) {
  outline: var(--focus-ring-width) solid var(--focus-ring-color);
  outline-offset: var(--focus-ring-offset);
}

/* ===== NAVIGATION INTERACTIVE STATES ===== */

.nav-item,
.nav-link {
  transition: var(--transition-hover);
  position: relative;
}

.nav-item:hover:not(.disabled),
.nav-link:hover:not(.disabled) {
  background: var(--bg-hover-subtle);
  color: var(--text-hover);
}

.nav-item:active:not(.disabled),
.nav-link:active:not(.disabled) {
  background: var(--bg-active);
  transform: var(--active-press-subtle);
  transition: var(--transition-active);
}

.nav-item:focus-visible:not(.disabled),
.nav-link:focus-visible:not(.disabled) {
  outline: var(--focus-ring-width) solid var(--focus-ring-color);
  outline-offset: var(--focus-ring-offset);
}

.nav-item.active,
.nav-link.active {
  background: var(--color-primary-container);
  color: var(--color-on-primary-container);
}

/* ===== SKILL TAG INTERACTIVE STATES ===== */

.skill-tag {
  transition: var(--transition-hover);
  position: relative;
  overflow: hidden;
}

.skill-tag:hover:not(.disabled) {
  transform: var(--hover-scale-subtle);
  background: var(--bg-hover-moderate);
  box-shadow: var(--shadow-hover-subtle);
}

.skill-tag:active:not(.disabled) {
  transform: var(--active-press-subtle);
  transition: var(--transition-active);
}

.skill-tag:focus-visible:not(.disabled) {
  outline: var(--focus-ring-width) solid var(--focus-ring-color);
  outline-offset: var(--focus-ring-offset);
}

/* Skill tag shine effect */
.skill-tag::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 255, 255, 0.1),
    transparent
  );
  transition: left var(--duration-normal) var(--ease-out);
}

.skill-tag:hover::before {
  left: 100%;
}

/* ===== CONTACT LINK INTERACTIVE STATES ===== */

.contact-link {
  transition: var(--transition-hover);
}

.contact-link:hover:not(.disabled) {
  transform: var(--hover-lift-subtle);
  background: var(--bg-hover-moderate);
  border-color: var(--border-hover);
  box-shadow: var(--shadow-hover-subtle);
}

.contact-link:active:not(.disabled) {
  transform: var(--active-press-subtle);
  transition: var(--transition-active);
}

.contact-link:focus-visible:not(.disabled) {
  outline: var(--focus-ring-width) solid var(--focus-ring-color);
  outline-offset: var(--focus-ring-offset);
}

/* ===== ACCESSIBILITY ENHANCEMENTS ===== */

/* High contrast mode support */
@media (prefers-contrast: high) {
  .interactive:focus-visible {
    outline-width: 3px;
    outline-style: solid;
  }
  
  .form-input:focus,
  .form-textarea:focus,
  .form-select:focus,
  input:focus:not(.unstyled),
  textarea:focus:not(.unstyled),
  select:focus:not(.unstyled) {
    box-shadow: 0 0 0 3px var(--focus-ring-color);
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .interactive,
  .btn,
  .button,
  button:not(.unstyled),
  .link,
  a:not(.unstyled),
  .form-input,
  .form-textarea,
  .form-select,
  input:not(.unstyled),
  textarea:not(.unstyled),
  select:not(.unstyled),
  .card-interactive,
  .project-card,
  .skill-card,
  .interactive-card,
  .nav-item,
  .nav-link,
  .skill-tag,
  .contact-link {
    transition: none;
    transform: none !important;
    animation: none;
  }
  
  .skill-tag::before {
    display: none;
  }
}

/* Touch device optimizations */
@media (hover: none) and (pointer: coarse) {
  .interactive:hover,
  .btn:hover,
  .button:hover,
  button:hover:not(.unstyled),
  .link:hover,
  a:hover:not(.unstyled),
  .card-interactive:hover,
  .project-card:hover,
  .skill-card:hover,
  .interactive-card:hover,
  .nav-item:hover,
  .nav-link:hover,
  .skill-tag:hover,
  .contact-link:hover {
    transform: none;
  }
}

/* ===== ERROR STATES ===== */

.error,
.form-input.error,
.form-textarea.error,
input.error:not(.unstyled),
textarea.error:not(.unstyled) {
  border-color: var(--color-error);
}

.error:focus,
.form-input.error:focus,
.form-textarea.error:focus,
input.error:focus:not(.unstyled),
textarea.error:focus:not(.unstyled) {
  box-shadow: 0 0 0 var(--focus-ring-width) rgba(var(--color-error-rgb), 0.2);
  outline-color: var(--focus-ring-color-error);
}

/* ===== SUCCESS STATES ===== */

.success,
.form-input.success,
.form-textarea.success,
input.success:not(.unstyled),
textarea.success:not(.unstyled) {
  border-color: var(--color-success);
}

.success:focus,
.form-input.success:focus,
.form-textarea.success:focus,
input.success:focus:not(.unstyled),
textarea.success:focus:not(.unstyled) {
  box-shadow: 0 0 0 var(--focus-ring-width) rgba(var(--color-success-rgb), 0.2);
  outline-color: var(--focus-ring-color-success);
}
